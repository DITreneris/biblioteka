# Cursor Rules - DI PromptÅ³ Biblioteka Projektas

## ğŸ¯ Projekto ApÅ¾valga
Å is projektas yra interaktyvi HTML platforma verslo analitikams su Google Sheets integracija. Visi taisykles turi atsiÅ¾velgti Ä¯ statinio HTML pobÅ«dÄ¯, saugumÄ… ir konfidencialumÄ….

**Agentams:** RolÄ—s ir workflow â€“ [AGENTS.md](AGENTS.md). DokumentÅ³ valdymas ir atsakomybÄ—s â€“ [docs/DOCUMENTATION.md](docs/DOCUMENTATION.md). PakeitimÅ³ istorija â€“ [CHANGELOG.md](CHANGELOG.md).

---

## ğŸ“ Q&A â€“ Kalbos ir tono praktika (vartotojui matomas tekstas)

- **Kreipinys:** naudoti **Tu** (ne JÅ«s): tavo, tau, tu, atlikai, naudojai, gausi, galÄ—si ir t. t.
- **Stilius:** paprasta lietuviÅ³ kalba, **lakoniÅ¡kai** â€“ trumpi sakiniai, be pertekliaus.
- **Tonas:** **motyvacinÄ—, palaikanti** â€“ skatina veikti, bet **be patetikos** (be per didelio entuziazmo, dramos ar tuÅ¡Äios Å¡lovinimo).
- **Check:** prieÅ¡ commit patikrinti, ar vartotojui matomi tekstai atitinka Tu + lakoniÅ¡kÄ…, palaikantÄ¯ tonÄ….

---

## ğŸ”’ SAUGUMAS (Security)

### API Keys ir KonfidencialÅ«s Duomenys
- âŒ **NIEKADA** nekomituokite API keys, slaptaÅ¾odÅ¾iÅ³ ar jautriÅ³ duomenÅ³ Ä¯ Git
- âœ… Naudokite `.env` failus arba konfigÅ«racijos failus, kurie yra `.gitignore`
- âœ… Google Apps Script URL turi bÅ«ti konfigÅ«ruojamas per kintamuosius, ne hardcoded
- âœ… Jei reikia, naudokite environment variables arba konfigÅ«racijos failus
- âš ï¸ **Google Script URL** faile `index.html` turi bÅ«ti placeholder, ne tikras URL

### Input Validacija
- âœ… **VISADA** validuokite visus vartotojo Ä¯vestus duomenis (email, tekstas)
- âœ… Naudokite HTML5 validacijÄ… (`required`, `type="email"`) + JavaScript validacijÄ…
- âœ… Sanitizuokite visus duomenis prieÅ¡ siuntimÄ… Ä¯ backend
- âœ… Apsaugokite nuo XSS atakÅ³ - naudokite `textContent` vietoj `innerHTML` kai Ä¯manoma
- âœ… Validuokite email formatÄ… su regex: `/^[^\s@]+@[^\s@]+\.[^\s@]+$/`

### Google Apps Script Saugumas
- âœ… Apps Script turi validuoti gautus duomenis
- âœ… Naudokite try-catch blokus visose kritinÄ—se vietose
- âœ… Nerodykite detaliÅ³ klaidÅ³ praneÅ¡imÅ³ vartotojams (saugumo rizika)
- âœ… Loginkite klaidas serverio pusÄ—je, bet neeksportuokite jautriÅ³ duomenÅ³

### CORS ir Cross-Origin Saugumas
- âœ… Google Apps Script naudoja `no-cors` reÅ¾imÄ… - supraskite ribojimus
- âœ… Jei keiÄiate Ä¯ `cors`, Ä¯sitikinkite, kad tikrinamas `Origin` header
- âš ï¸ **NIEKADA** neleiskite bet kokiam domenui siÅ³sti uÅ¾klausÅ³ be validacijos

### CAPTCHA ir Spam Apsauga
- âš ï¸ **Rekomenduojama** pridÄ—ti Google reCAPTCHA kontaktÅ³ formai
- âœ… Implementuokite rate limiting (ribokite uÅ¾klausÅ³ skaiÄiÅ³ per laikÄ…)
- âœ… Validuokite, kad forma nÄ—ra tuÅ¡Äia arba su tik spam duomenimis

### DuomenÅ³ Saugumas
- âœ… JautrÅ³ duomenÅ³ (email, vardai) saugojimas Google Sheets turi atitikti GDPR
- âœ… Ä®sitikinkite, kad Google Sheets dokumentas turi tinkamas prieigos teises
- âœ… Svarstykite duomenÅ³ Å¡ifravimÄ…, jei saugomi labai jautrÅ«s duomenys

---

## ğŸ” KONFIDENCIALUMAS (Confidentiality)

### GDPR ir DuomenÅ³ Apsauga
- âœ… KontaktÅ³ formoje **PRIVALOMA** informuoti apie duomenÅ³ rinkimÄ…
- âœ… PridÄ—kite privatumo politikos nuorodÄ…
- âœ… Suteikite galimybÄ™ atÅ¡aukti sutikimÄ…
- âœ… Duomenys turi bÅ«ti saugomi tik tiek, kiek reikia

### JautriÅ³ DuomenÅ³ Valdymas
- âŒ **NIEKADA** neloginkite jautriÅ³ duomenÅ³ Ä¯ browser console production aplinkoje
- âœ… Naudokite `console.warn` arba `console.error` tik development reÅ¾ime
- âœ… PaÅ¡alinkite visus debug log'us prieÅ¡ production deployment

### Verslo Informacijos Apsauga
- âš ï¸ Projekte yra verslo logika ir promptÅ³ Å¡ablonai - saugokite kaip verslo paslaptÄ¯
- âœ… Naudokite `.gitignore` tam, kad neatsitiktinai nekomituotumÄ—te jautriÅ³ failÅ³
- âœ… Jei dalijatÄ—s kodu, patikrinkite, kad nÄ—ra hardcoded verslo duomenÅ³

### TreÄiÅ³jÅ³ Å aliÅ³ Integracijos
- âœ… Google Sheets integracija - patikrinkite Google privatumo politikÄ…
- âœ… Jei naudojate EmailJS ar kitas paslaugas, perskaitykite jÅ³ duomenÅ³ apsaugos politikas
- âœ… Informuokite vartotojus apie treÄiÅ³jÅ³ Å¡aliÅ³ paslaugas

---

## âœ¨ KOKYBÄ– (Quality)

### Kodas Standartai
- âœ… **Kodas turi bÅ«ti skaitomas ir suprantamas** - naudokite aiÅ¡kius kintamÅ³jÅ³ vardus
- âœ… Funkcijos turi turÄ—ti vienÄ… atsakomybÄ™ (Single Responsibility Principle)
- âœ… Naudokite `'use strict'` JavaScript failuose
- âœ… Komentuokite sudÄ—tingÄ… logikÄ…, bet ne akivaizdÅ¾ius dalykus
- âœ… Naudokite consistent code style (indentacija, kabliataÅ¡kiai, etc.)

### Error Handling
- âœ… **VISADA** naudokite try-catch blokus asinchroninÄ—ms operacijoms
- âœ… Rodykite vartotojui suprantamus klaidos praneÅ¡imus
- âœ… Loginkite detales klaidas development reÅ¾ime
- âœ… TurÄ—kite fallback mechanizmus (pvz., fallbackCopy funkcija)

### Performance
- âœ… Minimizuokite DOM manipuliacijas - naudokite batch updates
- âœ… Naudokite debounce funkcijas, kai reikia (pvz., input validacija)
- âœ… Optimizuokite CSS - naudokite CSS kintamuosius, kad bÅ«tÅ³ lengviau valdyti
- âœ… Minimizuokite JavaScript failÅ³ dydÄ¯ - paÅ¡alinkite nenaudojamÄ… kodÄ…
- âœ… Naudokite `async/await` vietoj callback hell

### Accessibility (Prieinamumas)
- âœ… **PRIVALOMA** naudoti semantinius HTML elementus (`<header>`, `<nav>`, `<main>`, `<footer>`)
- âœ… PridÄ—kite `aria-label`, `aria-describedby`, `role` atributus, kur reikia
- âœ… Formos turi turÄ—ti `<label>` elementus su `for` atributais
- âœ… KlaviatÅ«ros navigacija - visi interaktyvÅ«s elementai turi bÅ«ti pasiekiami per Tab
- âœ… PridÄ—kite `tabindex` atributus, kur reikia
- âœ… Palaikykite `prefers-reduced-motion` media query
- âœ… Naudokite kontrastingas spalvas (WCAG AA standartas minimum)

### Browser Compatibility
- âœ… Testuokite visose pagrindinÄ—se narÅ¡yklÄ—se (Chrome, Firefox, Safari, Edge)
- âœ… Naudokite fallback sprendimus senesnÄ—ms narÅ¡yklÄ—ms (pvz., `execCommand('copy')`)
- âœ… Patikrinkite, ar veikia mobile narÅ¡yklÄ—se
- âœ… Naudokite feature detection, ne browser detection

### Testing
- âš ï¸ **Rekomenduojama** pridÄ—ti unit testus kritinÄ—ms funkcijoms
- âœ… Testuokite visus user flows rankiniu bÅ«du prieÅ¡ commit
- âœ… Testuokite error scenarijus (pvz., network klaidos, invalid input)
- âœ… Patikrinkite, ar veikia su JavaScript iÅ¡jungtu (graceful degradation)

---

## ğŸ“š DOKUMENTACIJOS VALDYMAS (Documentation)

### Dokumentacijos Standartai
- âœ… **VISI** failai turi turÄ—ti aiÅ¡kÅ³ paskirtÄ¯ ir struktÅ«rÄ…
- âœ… README.md turi apraÅ¡yti projektÄ…, kaip jÄ¯ paleisti ir naudoti
- âœ… Kodo komentarai turi bÅ«ti lietuviÅ³ kalba (nes projektas lietuviÅ³ kalba)
- âœ… Funkcijos turi turÄ—ti JSDoc komentarus su parametrais ir return tipais

### Dokumentacijos Atnaujinimas
- âš ï¸ **PRIVALOMA** atnaujinti dokumentacijÄ…, kai keiÄiamas kodas
- âœ… Jei pridedate naujÄ… funkcijÄ…, atnaujinkite README.md
- âœ… Jei keiÄiate API arba konfigÅ«racijÄ…, atnaujinkite INTEGRACIJA.md
- âœ… **Release** â€“ bÅ«tina atnaujinti CHANGELOG.md (sekcijÄ… â€Nereleisuotaâ€œ perkelti Ä¯ naujÄ… versijÄ… su data). Versijavimas â€“ Semantic Versioning.
- âœ… DokumentÅ³ atsakomybÄ—s ir kada kÄ… atnaujinti â€“ Å¾r. docs/DOCUMENTATION.md
- âœ… Dokumentuokite breaking changes

### Dokumentacijos StruktÅ«ra
- âœ… README.md - projekto apÅ¾valga, instaliacija, naudojimas
- âœ… CHANGELOG.md - versijÅ³ pakeitimÅ³ istorija (Keep a Changelog, SemVer). **Release** = atnaujinti CHANGELOG (â€Nereleisuotaâ€œ â†’ nauja versija su data).
- âœ… docs/DOCUMENTATION.md - dokumentÅ³ inventorius, atsakomybÄ—s, archyvavimo taisyklÄ—s (Å¾r. kada kÄ… atnaujinti).
- âœ… INTEGRACIJA.md - detali integracijos instrukcija
- âœ… VARIANTU_PALYGINIMAS.md - palyginimas tarp variantÅ³
- âœ… AGENTS.md - agentÅ³ rolÄ—s, workflow, commit prefiksai
- âœ… feedback-schema.md - Feedback Store duomenÅ³ schema
- âœ… Kodo komentarai - inline dokumentacija sudÄ—tingoms vietoms

### Verslo Dokumentacija
- âš ï¸ Jei yra verslo logika arba procesai, dokumentuokite juos
- âœ… PromptÅ³ Å¡ablonai turi bÅ«ti aiÅ¡kiai apraÅ¡yti
- âœ… Verslo taisyklÄ—s ir apribojimai turi bÅ«ti dokumentuoti

---

## ğŸ“‹ DARBO PLANAVIMAS (Work Planning)

### Task Breakdown
- âœ… **VISADA** suskaidykite dideles uÅ¾duotis Ä¯ maÅ¾esnes, valdomas dalis
- âœ… Kiekviena uÅ¾duotis turi turÄ—ti aiÅ¡kÅ³ tikslÄ… ir rezultatÄ…
- âœ… Prioritizuokite uÅ¾duotis pagal verslo reikÅ¡mÄ™ ir rizikÄ…
- âœ… Ä®vertinkite uÅ¾duoÄiÅ³ sudÄ—tingumÄ… prieÅ¡ pradedant

### Version Control
- âœ… **PRIVALOMA** naudoti Git su prasmingais commit praneÅ¡imais
- âœ… Commit praneÅ¡imai turi bÅ«ti aiÅ¡kÅ«s ir apraÅ¡antys, kÄ… keiÄiate
- âœ… Formatas: `[Tipas] Trumpas apraÅ¡ymas` (pvz., `[Fix] Pataisyta email validacija`)
- âœ… Commit tipai: `[Feature]`, `[Fix]`, `[Docs]`, `[Refactor]`, `[Security]`, `[Style]`
- âœ… AgentÅ³ prefiksai (Å¾r. AGENTS.md): `[Content]`, `[Curriculum]`, `[UI]`, `[QA]`, `[Orchestrator]`
- âœ… **NIEKADA** nekomituokite jautriÅ³ duomenÅ³ arba laikinÅ³ failÅ³

### Branch Strategy
- âš ï¸ **Rekomenduojama** naudoti feature branches didesnÄ—ms funkcijoms
- âœ… `main` branch turi bÅ«ti stabilus ir veikiantis
- âœ… Testuokite pakeitimus prieÅ¡ merge Ä¯ main

### Code Review
- âš ï¸ Jei dirbate komandoje, **PRIVALOMA** code review prieÅ¡ merge
- âœ… Patikrinkite saugumÄ…, kokybÄ™ ir dokumentacijÄ…
- âœ… Ä®sitikinkite, kad nÄ—ra hardcoded duomenÅ³

### Deployment
- âœ… **PRIVALOMA** testuoti pakeitimus local aplinkoje prieÅ¡ deployment
- âœ… Patikrinkite, ar visos funkcijos veikia po pakeitimÅ³
- âœ… Ä®sitikinkite, kad nÄ—ra console.error arba warning production kode
- âœ… Patikrinkite, ar veikia su production konfigÅ«racija (Google Script URL, etc.)

---

## ğŸ¤– AGENTÅ² SISTEMA (Agent System)

### AgentÅ³ rolÄ—s
- **Content** â€“ promptai, tekstai, apraÅ¡ymai
- **Curriculum** â€“ turinio struktÅ«ra, seka, mokymosi logika
- **UI/UX** â€“ dizainas, prieinamumas, vartotojo patirtis
- **QA** â€“ kokybÄ—s tikrinimas (kodas + turinys)
- **Orchestrator** â€“ koordinacija, prioritetai, uÅ¾duoÄiÅ³ valdymas

### Workflow
- PrieÅ¡ pakeitimus: Å¾r. AGENTS.md workflow sekÄ…
- PrieÅ¡ PR: naudokite .github/PULL_REQUEST_TEMPLATE.md
- CI: lint, test, a11y per .github/workflows/ci.yml

### Feedback Store
- GrÄ¯Å¾tamasis ryÅ¡ys ir metrikos: Å¾r. feedback-schema.md
- Å altiniai: Google Sheets, analytics, QA rezultatai

---

## ğŸ¨ GERIAUSIOS PRAKTIKOS (Best Practices)

### HTML StruktÅ«ra
- âœ… Naudokite semantinius HTML5 elementus
- âœ… PridÄ—kite `lang` atributÄ… (`lang="lt"` lietuviÅ³ kalbai)
- âœ… Meta tags turi bÅ«ti teisingi (charset, viewport, etc.)
- âœ… Naudokite descriptive ID ir class vardus

### CSS Organizacija
- âœ… Naudokite CSS kintamuosius (`:root`) spalvoms ir dydÅ¾iams
- âœ… Organizuokite CSS logiÅ¡kai (reset, variables, components, utilities)
- âœ… Naudokite BEM arba panaÅ¡iÄ… metodologijÄ…, jei reikia
- âœ… Responsive design - mobile-first approach
- âœ… Naudokite `prefers-reduced-motion` accessibility

### JavaScript Organizacija
- âœ… Organizuokite kodÄ… logiÅ¡kai (config, helpers, main functions)
- âœ… Naudokite IIFE (Immediately Invoked Function Expression) arba modules
- âœ… Atskirkite concerns (UI, business logic, API calls)
- âœ… Naudokite const/let, ne var
- âœ… Avoid global variables - naudokite namespaces arba modules

### Naming Conventions
- âœ… Kintamieji ir funkcijos: `camelCase`
- âœ… Konstantos: `UPPER_SNAKE_CASE`
- âœ… CSS klasÄ—s: `kebab-case` arba `BEM`
- âœ… Failai: `kebab-case` (pvz., `google-apps-script.js`)

### Code Reusability
- âœ… **DRY** (Don't Repeat Yourself) - nenaudokite kopijuoto kodo
- âœ… Sukurkite reusable funkcijas
- âœ… Naudokite helper funkcijas bendroms operacijoms

### Maintainability
- âœ… Kodas turi bÅ«ti lengvai suprantamas po 6 mÄ—nesiÅ³
- âœ… Naudokite aiÅ¡kius kintamÅ³jÅ³ ir funkcijÅ³ vardus
- âœ… Komentuokite "kodÄ—l", ne "kÄ…" (kodas turi bÅ«ti aiÅ¡kus be komentarÅ³)
- âœ… Refactoring - nuolat tobulinkite kodÄ…

---

## ğŸš¨ KONKRETÅªS PROJEKTO REIKALAVIMAI

### Google Apps Script Integracija
- âœ… **PRIVALOMA** patikrinti, ar `GOOGLE_SCRIPT_URL` nÄ—ra hardcoded production kode
- âœ… Naudokite placeholder: `'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE'`
- âœ… Dokumentuokite, kaip nustatyti URL INTEGRACIJA.md faile
- âœ… Testuokite integracijÄ… su mock duomenimis

### KontaktÅ³ Forma
- âœ… **PRIVALOMA** email validacija (HTML5 + JavaScript)
- âœ… Rodykite loading state siunÄiant formÄ…
- âœ… Rodykite success/error praneÅ¡imus vartotojui
- âœ… Reset formÄ… po sÄ—kmingo submit
- âœ… Accessibility - visi laukai turi labels ir ARIA atributus

### PromptÅ³ Funkcionalumas
- âœ… Kopijavimo funkcija turi veikti visose narÅ¡yklÄ—se (fallback)
- âœ… Rodykite visual feedback (toast, button state)
- âœ… KlaviatÅ«ros navigacija turi veikti (Tab, Enter, Space)
- âœ… Accessibility - code blocks turi bÅ«ti pasiekiami per klaviatÅ«rÄ…

### Responsive Design
- âœ… **PRIVALOMA** testuoti mobile, tablet, desktop
- âœ… Naudokite mobile-first approach
- âœ… Testuokite skirtingus ekranÅ³ dydÅ¾ius (320px, 768px, 1024px, 1920px)

---

## ğŸ“ COMMIT MESSAGE FORMAT

```
[Tipas] Trumpas apraÅ¡ymas (iki 50 simboliÅ³)

Detalesnis apraÅ¡ymas, jei reikia (iki 72 simboliÅ³ per eilutÄ™)

Tipai:
- [Feature] - nauja funkcija
- [Fix] - klaidos taisymas
- [Docs] - dokumentacijos pakeitimai (pvz. [Docs] CHANGELOG: 1.1.0 â€“ pridÄ—ta X)
- [Refactor] - kodo refactoring
- [Security] - saugumo pakeitimai
- [Style] - stiliaus pakeitimai (formatavimas, CSS)
- [Test] - testÅ³ pridÄ—jimas arba pakeitimai
- [Chore] - build, config, dependencies
```

---

## âš ï¸ RIBOJIMAI IR Ä®SPÄ–JIMAI

### KÄ… NIEKADA nedaryti:
- âŒ Nekomituokite jautriÅ³ duomenÅ³ (API keys, passwords, real URLs)
- âŒ Nenaudokite `eval()` arba `innerHTML` su vartotojo duomenimis
- âŒ Nerodykite detaliÅ³ klaidÅ³ praneÅ¡imÅ³ vartotojams (saugumo rizika)
- âŒ Nenaudokite hardcoded verslo duomenÅ³ kode
- âŒ Nekomituokite `.env` failÅ³ arba konfigÅ«racijos su realiais duomenimis

### KÄ… VISADA daryti:
- âœ… Validuokite visus vartotojo Ä¯vestus duomenis
- âœ… Naudokite try-catch blokus asinchroninÄ—ms operacijoms
- âœ… Testuokite pakeitimus prieÅ¡ commit
- âœ… Atnaujinkite dokumentacijÄ…, kai keiÄiate kodÄ…
- âœ… Naudokite semantinius HTML elementus
- âœ… PridÄ—kite accessibility atributus

---

## ğŸ” CODE REVIEW CHECKLIST

PrieÅ¡ commit, patikrinkite:
- [ ] Ar nÄ—ra hardcoded jautriÅ³ duomenÅ³?
- [ ] Ar visi vartotojo input'ai yra validuojami?
- [ ] Ar yra error handling kritinÄ—se vietose?
- [ ] Ar dokumentacija atnaujinta pagal pakeitimus? (Å¾r. docs/DOCUMENTATION.md)
- [ ] Jei release â€“ ar CHANGELOG.md atnaujintas ir versija atitinka SemVer?
- [ ] Ar kodas veikia visose narÅ¡yklÄ—se?
- [ ] Ar accessibility reikalavimai Ä¯vykdyti?
- [ ] Ar nÄ—ra console.log production kode?
- [ ] Ar commit praneÅ¡imas aiÅ¡kus ir apraÅ¡antis?

---

## ğŸ“ PAGALBA

Jei kyla klausimÅ³ dÄ—l Å¡iÅ³ taisykliÅ³:
1. Perskaitykite atitinkamÄ… sekcijÄ… dar kartÄ…
2. Patikrinkite dokumentacijÄ…: README.md, INTEGRACIJA.md, [docs/DOCUMENTATION.md](docs/DOCUMENTATION.md), [CHANGELOG.md](CHANGELOG.md)
3. AgentÅ³ rolÄ—s ir workflow â€“ [AGENTS.md](AGENTS.md)
4. Jei reikia, konsultuokitÄ—s su komandos nariais

---

**Paskutinis atnaujinimas:** 2026-02-18  
**Projekto kalba:** LietuviÅ³ kalba  
**Projekto tipas:** Statinis HTML su JavaScript ir Google Apps Script integracija
